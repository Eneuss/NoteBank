current_balance = 1000.0  # Example initial balance

# Functions
def handle_left_button(button_text):
    if button_text == "Top Up":
        top_up()
    elif button_text == "Send":
        send_value()
    else:
        messagebox.showinfo("Info", f"'{button_text}' button clicked!")

def top_up():
    """Increase the balance by the entered amount."""
    global current_balance
    try:
        amount = float(amount_entry.get())
        if amount > 0:
            current_balance += amount
            update_balance()
            messagebox.showinfo("Success", f"Your balance has been topped up by ${amount:.2f}")
        else:
            messagebox.showwarning("Invalid Input", "Enter a positive amount to top up.")
    except ValueError:
        messagebox.showerror("Error", "Please enter a valid number.")

def send_value():
    """Simulate sending a value and decrease the balance."""
    global current_balance
    try:
        amount = float(amount_entry.get())
        if 0 < amount <= current_balance:
            current_balance -= amount
            update_balance()
            messagebox.showinfo("Success", f"Successfully sent ${amount:.2f}.")
        elif amount > current_balance:
            messagebox.showerror("Error", "Insufficient balance.")
        else:
            messagebox.showwarning("Invalid Input", "Enter a positive amount to send.")
    except ValueError:
        messagebox.showerror("Error", "Please enter a valid number.")

def update_balance():
    """Update the balance display."""
    balance_label.config(text=f"Current Balance: ${current_balance:.2f}")

# Main Window
window = tk.Tk()
window.title("Home Frame")
window.geometry("600x400")

# Left Frame
homeframe = tk.Frame(window, bg="lightgray", width=200)
homeframe.pack(side="left", fill="y")

# Buttons on the left side
buttons = ["Home", "Transactions", "Profile", "Settings", "Top Up", "Send"]
for btn_text in buttons:
    btn = tk.Button(
        homeframe,
        text=btn_text,
        font=("Arial", 12),
        bg="white",
        relief="flat",
        command=lambda b=btn_text: handle_left_button(b),
    )
    btn.pack(fill="x", pady=5, padx=10)

# Right Frame
right_frame = tk.Frame(window, bg="white")
right_frame.pack(side="right", fill="both", expand=True)

# Current Balance Display
balance_label = tk.Label(
    right_frame,
    text=f"Current Balance: ${current_balance:.2f}",
    font=("Arial", 14),
    bg="white",
    fg="black",
)
balance_label.pack(pady=20)

# Form to enter amount
form_frame = tk.Frame(right_frame, bg="white")
form_frame.pack(pady=10)

tk.Label(form_frame, text="Enter Amount:", font=("Arial", 12), bg="white").grid(
    row=0, column=0, padx=5, pady=5
)

amount_entry = tk.Entry(form_frame, font=("Arial", 12))
amount_entry.grid(row=0, column=1, padx=5, pady=5)

# Send Button
send_button = tk.Button(
    form_frame,
    text="Send",
    font=("Arial", 12),
    bg="blue",
    fg="white",
    command=send_value,
)
send_button.grid(row=0, column=2, padx=5, pady=5)
